# Preprocess data

## 1 Description
- Davis
    - `drugs.txt`: drug SMILES strings, from `materials/davis/ligands_can.txt`
    - `targets.txt`: target protein sequences, from `materials/davis/proteins.txt`
    - `affinities`: the drug-target affinity matrix, from `materials/davis/Y`
    - `drug-drug-sim.txt`: the normalized drug similarity matrix, from `materials/davis/drug-drug-sim.txt`
    - `target-target-sim.txt`: the normalized target similarity matrix, from `materials/davis/target-target-sim.txt`
    - `S1_train_set.txt`: affinity indexes of the training set, form `materials/davis/folds/train_fold_setting1.txt`
    - `S1_test_set.txt`: affinity indexes of the test set, form `materials/davis/folds/test_fold_setting1.txt`

- KIBA
    - `drugs.txt`: drug SMILES strings, from `materials/kiba/ligands_can.txt`
    - `targets.txt`: target protein sequences, from `materials/kiba/proteins_new.txt`
    - `affinities`: the drug-target affinity matrix, from `materials/kiba/Y_new`
    - `drug-drug-sim.txt`: the normalized drug similarity matrix, from `materials/kiba/drug-drug-sim.txt`
    - `target-target-sim.txt`: the normalized target similarity matrix, from `materials/kiba/target-target-sim_new.txt`
    - `S1_train_set.txt`: affinity indexes of the training set, form `materials/kiba/folds/train_fold_setting1_new.txt`
    - `S1_test_set.txt`: affinity indexes of the test set, form `materials/kiba/folds/test_fold_setting1_new.txt`

## 2 Prepare for target molecular graphs
Download the target molecular graphs generated by https://github.com/595693085/DGraphDTA from https://drive.google.com/open?id=1rqAopf_IaH3jzFkwXObQ4i-6bUUwizCv. Move the following folders to the directory of each dataset (i.e. data/davis or data/kiba).
- `aln/`
- `pconsc4/`

## 3 Prepare for S2, S3 and S4
- `S2_split.py`: Mask/Delete the molecules with isomers to ensure each drug molecular graph unique. Split remaining drugs with a division ratio of 5:1 for training and testing under setting S2.
- `S3_split.py`: Mask/Delete the same protein sequences to ensure each target molecular graph unique. Split remaining targets with a division ratio of 5:1 for training and testing under setting S3.
